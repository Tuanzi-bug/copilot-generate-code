# 架构设计

**Last Updated**: {日期}

## 概述

记录项目的系统架构、设计决策、架构决策记录（ADR）等。

> 🏗️ **模板说明**: 使用 ADR（Architecture Decision Record）格式记录重要架构决策。每个决策应包含：上下文、决策、后果。

## 目录

- [系统架构](#系统架构)
- [设计原则](#设计原则)
- [架构决策](#架构决策)
- [设计模式](#设计模式)

## 系统架构

### 项目结构

```
{项目名称}/
├── src/                 # 源代码
│   ├── {模块1}/
│   ├── {模块2}/
│   └── {模块3}/
├── tests/               # 测试代码
├── docs/                # 文档
├── context/             # 知识库（推荐）
├── requirement/         # 需求管理（推荐）
└── {其他目录}
```

### 架构层次

描述系统的分层架构：

- **{层次1}**: {职责说明}
- **{层次2}**: {职责说明}
- **{层次3}**: {职责说明}

### 核心模块

列出关键模块及其职责：

1. **{模块名称}**: {功能说明}
2. **{模块名称}**: {功能说明}
3. **{模块名称}**: {功能说明}

## 设计原则

### 1. 索引优先加载

总是先加载轻量级索引文件，再按需加载具体内容。

### 2. 即时上下文策略

不预加载所有信息，而是维护轻量级索引，运行时动态加载。

### 3. 增量更新防污染

仅更新必要部分，避免全文重写污染文档。

### 4. 分层信息组织

```
context/
├── tech/           # 技术层（方案设计时加载）
└── experience/     # 经验层（实施前加载）
```

## 架构决策

### ADR-001: {决策标题}

**状态**: {提议中/已接受/已废弃/已替代}  
**日期**: {日期}  
**决策者**: {姓名/团队}

**上下文**: 
{描述需要做决策的背景和问题}

**考虑的方案**: 
1. **方案A**: {描述} - 优点: {}, 缺点: {}
2. **方案B**: {描述} - 优点: {}, 缺点: {}

**决策**: 
{选择的方案和理由}

**后果**: 
- ✅ 积极影响
- ⚠️ 需要注意的事项
- ❌ 负面影响（如有）

---

### 添加更多 ADR

使用上述模板记录重要架构决策。

## 设计模式

记录项目中使用的设计模式：

### {模式名称}

**应用场景**: {在项目中的哪些地方使用}
**实现方式**: {如何实现}
**示例**: {代码示例或文件引用}

---

**变更日志**:
| 日期 | 变更 | 作者 |
|------|------|------|
| 2026-01-30 | 初始创建，添加 ADR-001 | System |
